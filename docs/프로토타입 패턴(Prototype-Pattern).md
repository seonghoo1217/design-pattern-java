## 프로토타입 패턴 정의

특정 객체의 인스턴스를 생성하기 위해 `new` 키워드를 사용하며 new를 통해 새로운 인스턴스를 할당하기 위해선 클래스의 이름을 반드시 지정해야한다. 하지만 클래스명을 지정하지 않고 생성하여 샘플을 만드는 작업을 프로토타입 패턴이라고한다.

프로토타입 패턴은 객체를 생성하는데 있어 비용이 많이 들기에 그 비용을 감내하지 않게 해준다. 이는 비슷한 객체가 이미 존재하는 경우 사용되는 객체 생성 패턴 중 하나이다. **즉 , 프로토타입 패턴은 원본객체를 새로운 객체에 복사하여 필요에 따라 수정하는 매커니즘을 제공한다.**

예시로 인스턴스로부터 다른 인스턴스를 생성하는 것이 복사기와  비슷하다. 원본의 제작방법을 알 수 없어도 복사기로 같은 종류의 서류를 여러개 제작할 수 있는 것과 같다.

### 프로토타입은 생성패턴이다.

생성패턴은 인스턴스를 만드는 절차를 추상화한다. 생성패턴에 속하는 패턴들은 객체를 생성, 합성하는 방법이나 객체의 표현방법을 시스템과 분리해준다.

생성패턴은 시스템이 상속보다 복합방법을 사용하는 추세로 진화하며 그 중요도가 커지고있다.

생성패턴은 **두가지 이슈**가 존재한다.

1. 생성패턴은 시스템이 어떤 Concrete class를 사용하는지에 대한 정보를 캡슐화한다.
2. 생성패턴은 이들 클래스의 인스턴스들이 어떻게 연산 및 결합하는지에 대한 정보를 가려준다.

즉, 생성패턴을 이용할 경우 **누가 이것을 생성하였으며, 이것이 어떻게 생성되는지 언제생성하는지에 대해 유연성**을 가질 수 있다.

> Concrete class : 추상(abstract) 클래스나 인터페이스가 아닌 연산에 대한 구현을 가지고 있는 완전한 class
>

### 적용 환경

- 취급하는 오브젝트의 종류가 많아 각각을 별도의 클래스로 만들어 다수의 소스파일로 작성 및 관리해야하는 경우
- 클래스로 부터 인스턴스 생성이 어려운 경우
  ⇒ 생성하고자 하는 인스턴스가 복잡한 작업을 거쳐 만들어지는 경우 이 예시는 필드값이 다양하며 해당 필드값이 초기화되는시점이 각각다를 때 기존의 인스턴스를 복사하여 새인스턴스를 생성할 때 사용합니다.

- framework와 생성할 인스턴스를 분리시키고 싶은 경우
  ⇒ 인스턴스를 생성할 때의 framework를 특정 클래스에 의존하지 않도록 만들고 싶은 경우
  이와 같은 경우 클래스의 이름을 지정해서 인스턴스를 만드는 것이 아니라 이미 `**모형`** 이 되는 인스턴스를 등록해 두고, 그 등록된 인스턴스를 복사해서 인스턴스를 생성한다.

### 클래스 다이어그램

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/871c9f24-5f9b-49e3-9c5a-7fc4f5b0f635/Untitled.png)

- Product인터페이스와 Manager클래스는 framework 패키지에 속해있고, 인스턴스를 복제하는 일을 수행한다.
- Manager 클래스는 createclone을 호출하지만 구체적으로 어느 클래스의 인스턴스를 복제하는지는 관여하지 않는다.
- Product 인터페이스를 구현하고 있는 클래스라면 그 인스턴스를 복제할 수 있다.
- UnderlinePen과 MessageBox 클래스 모두 Product 인터페이스를 구현하고 있는 클래스입니다.
  이 인스턴스를 만들어 Manager클래스에 등록해 두면 필요할 때 복제할 수 있다.

## 프로토 타입의 필요성

그냥 `new` 키워드를 통해 인스턴스를 새롭게 생성하면 빠르다는 사실은 우리 모두 알고있다. 하지만 어째서 프로토 타입이라는 디자인 패턴이 고안된 것일까?

예제에서는 ~,*, / 세 가지 문자열을 사용한 3가지의 MessageBox 인스턴스를 만들었지만, 실무에서는 충분히 더 많은 종류의 인스턴스가 생성될 수 있다.
하지만 이걸 모두 각각의 클래스로 관리하기에는 너무 많기 때문에 관리의 용이성이 떨어진다.

사용예시는 아래의 그립과 같이 복잡한 구조의 인스턴스를 매번 프로그래밍 하며 new로 생성하기엔 부담과 어려움이 존재한다.
그렇기에 하나의 인스턴스를 복사하는데 사용한다.

![skill](https://oopy.lazyrockets.com/api/v2/notion/image?src=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F29e505c7-e658-49d4-bf99-e99942d9b4b5%2Fi15989352381.jpg&blockId=4a5dcd7b-566b-4947-9725-752038bb63fd)

### 주의사항

- 특정 클래스명이 소스코드 내부에 존재하는 경우 소스코드와 클래스를 분리하여 재사용할 수는 없다.
- Java에서는 클래스파일(.class)만 가지고 있더라도 그 클래스를 재사용 할 수 있는지가 중요하다.
- 핵심은 소스 파일(.java)이 없어도 재사용할 수 있는지가 중점이다. 
